---
title: 赛事模型关系说明
date: 2025-02-04
tags: 
  - 数据模型
  - 赛事管理
---

# 赛事相关模型关系说明

## 核心模型

### 1. 赛事（Tournament）
- 基本信息：标题、说明、类型、地点、时间等
- 状态流转：草稿 -> 报名中 -> 进行中 -> 已结束
- 人数控制：最大参与人数、当前参与人数
- 其他属性：积分上限、报名费等

### 2. 报名记录（TournamentRegistration）
- 关联关系：赛事ID、用户ID
- 状态管理：
  - 报名状态：待审核、已通过、已拒绝、候补中
  - 支付状态：未支付、已支付
- 时间记录：创建时间、更新时间

## 数据关系

1. 一个赛事可以有多个报名记录（一对多）
2. 一个用户可以报名多个赛事（多对多）
3. 每个赛事-用户组合只能有一条报名记录（唯一约束）

## 状态流转

### 赛事状态
```
DRAFT -> REGISTERING -> ONGOING -> FINISHED
草稿      报名中         进行中      已结束
```

### 报名状态
```
PENDING/WAITLIST -> APPROVED/REJECTED
待审核/候补中       已通过/已拒绝
``` 